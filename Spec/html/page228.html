<table width="100%"><tr>
<td align=left><A HREF="./page227.html">Page 227</A></td>
<td align=center width="30%"><A HREF="./cover.html">Table of Contents</A></td>
<td align=center width="30%"><A HREF="./index.html">Index</A></td>
<td align=right><A HREF="./page229.html">Page 229</A></td>
</tr>
<tr><td></td><td align=center colspan=2><b>Chapters</b></td><td></td></tr>
<tr><td></td><td align=center colspan=2><b>
<A HREF="./page2.html">1</A>,
<A HREF="./page5.html">2</A>,
<A HREF="./page13.html">3</A>,
<A HREF="./page30.html">4</A>,
<A HREF="./page35.html">5</A>,
<A HREF="./page44.html">6</A>,
<A HREF="./page47.html">7</A>,
<A HREF="./page54.html">8</A>,
<A HREF="./page69.html">9</A>,
<A HREF="./page77.html">10</A>,
<A HREF="./page87.html">11</A>,
<A HREF="./page93.html">12</A>,
<A HREF="./page113.html">13</A>,
<A HREF="./page122.html">14</A>,
<A HREF="./page131.html">15</A>,
<A HREF="./page142.html">16</A>,
<A HREF="./page158.html">17</A>,
<A HREF="./page169.html">18</A>,
<A HREF="./page175.html">19</A>,
<A HREF="./page177.html">20</A>,
<A HREF="./page179.html">21</A>,
<A HREF="./page190.html">22</A>,
<A HREF="./page204.html">23</A>,
<A HREF="./page242.html">24</A>,
<A HREF="./page256.html">25</A>,
<A HREF="./page261.html">26</A>,
<A HREF="./page266.html">27</A>,
<A HREF="./page284.html">28</A>,
<A HREF="./page304.html">29</A>,
<A HREF="./page319.html">30</A><br>
<A HREF="./page336.html">A</A>,
<A HREF="./page343.html">B</A>,
<A HREF="./page348.html">C</A>,
<A HREF="./page354.html">D</A>,
<A HREF="./page357.html">E</A>
</b></td><td></td></tr>
</table>
<hr>
<br>
<br>
 <b>CHAPTER 23. PRESENTATION TYPES </b><br>
<br>
 the canonical names above (using <tt>string-equal </tt>to do the comparison).<br>
<br>
 In the body of the translator (or the tester), the positional <i>object </i>argument will be bound to<br>
 the presentation's object. The named arguments <i>presentation </i>will be bound to the presentation<br>
 that was clicked on, <i>context-type </i>will be bound to the presentation type of the context that<br>
 actually matched, <i>frame </i>will be bound to the application frame that is currently active (usually<br>
 <tt>*application-frame*</tt>), <i>event </i>will be bound to the pointer button event that the user used,<br>
 <i>window </i>will be bound to the window stream from which the event came, and <i>x </i>and <i>y </i>will be bound<br>
 to the <i>x </i>and <i>y </i>positions within <i>window </i>that the pointer was at when the event occurred. The<br>
 special variable <tt>*input-context* </tt>will be bound to the current input context. Note that, in many<br>
 implementations <i>context-type </i>and <tt>*input-context* </tt>will have dynamic extent, so programmers<br>
 should not store without first copying them.<br>
<br>
 <i>body </i>is the body of the translator, and is run in the context of the application. <i>body </i>may have<br>
 zero or more declarations as its first forms. It should return either one, two, or three values.<br>
 The first value is an object which must be <tt>presentation-typep </tt>of <i>to-type</i>, and the second value<br>
 is a presentation type that must be <tt>presentation-subtypep </tt>of <i>to-type</i>. The consequences are<br>
 unspecified if the object is not <tt>presentation-typep </tt>of <i>to-type </i>or the type is not <tt>presentation-<br>
 subtypep </tt>of <i>to-type</i>. The first two returned values of <i>body </i>are used, in effect, as the returned<br>
 values for the call to <tt>accept </tt>that established the matching input context.<br>
<br>
 The third value returned by <i>body </i>must either be <tt>nil </tt>or a list of options (as keyword-value<br>
 pairs) that will be interpreted by <tt>accept</tt>. The only option defined so far is <tt>:echo</tt>, whose value<br>
 must be either <b>true </b>(the default) or <b>false</b>. If it is <b>true</b>, the object returned by the translator<br>
 will be "echoed" by <tt>accept</tt>, which will use <tt>presentation-replace-input </tt>to insert the textual<br>
 representation of the object into the input buffer. If it is <b>false</b>, the object will not be echoed.<br>
<br>
 None of <tt>define-presentation-translator</tt>'s arguments is evaluated.<br>
<br>
 <big><b>&#061&gt  </b></big><tt>define-presentation-to-command-translator </tt><i>name (from-type command-name command-<br>
 table </i><tt>&key </tt><i>gesture tester documentation pointer-documentation menu priority echo) arglist </i><tt>&body<br>
 </tt><i>body </i>[<i>Macro</i>]<br>
 This is similar to <tt>define-presentation-translator</tt>, except that the <i>to-type </i>will be derived to<br>
 be the command named by <i>command-name </i>in the command table <i>command-table</i>. <i>command-<br>
 name </i>is the name of the command that this translator will translate to.<br>
<br>
 The <i>echo </i>option is a boolean value (the default is <b>true</b>) that indicates whether the command<br>
 line should be echoed when a user invokes the translator.<br>
<br>
 The other arguments to <tt>define-presentation-to-command-translator </tt>are the same as for<br>
 <tt>define-presentation-translator</tt>. Note that the tester for command translators is always<br>
 assumed to be definitive, so there is no <tt>:tester-definitive </tt>option. The default for <i>pointer-<br>
 documentation </i>is the string <i>command-name </i>with dash characters replaced by spaces, and each<br>
 word capitalized (as in <tt>add-command-to-command-table</tt>).<br>
<br>
 The body of the translator must return a list of the arguments to the command named by<br>
 <i>command-name</i>. <i>body </i>is run in the context of the application. The returned value of the body,<br>
 appended to the command name, are eventually passed to <tt>execute-frame-command</tt>. <i>body </i>may<br>
 have zero or more declarations as its first forms.
<p><hr>
<table width="100%"><tr>
<td align=left><A HREF="./page227.html">Page 227</A></td>
<td align=center width="30%"><A HREF="./cover.html">Table of Contents</A></td>
<td align=center width="30%"><A HREF="./index.html">Index</A></td>
<td align=right><A HREF="./page229.html">Page 229</A></td>
</tr>
<tr><td></td><td align=center colspan=2><b>Chapters</b></td><td></td></tr>
<tr><td></td><td align=center colspan=2><b>
<A HREF="./page2.html">1</A>,
<A HREF="./page5.html">2</A>,
<A HREF="./page13.html">3</A>,
<A HREF="./page30.html">4</A>,
<A HREF="./page35.html">5</A>,
<A HREF="./page44.html">6</A>,
<A HREF="./page47.html">7</A>,
<A HREF="./page54.html">8</A>,
<A HREF="./page69.html">9</A>,
<A HREF="./page77.html">10</A>,
<A HREF="./page87.html">11</A>,
<A HREF="./page93.html">12</A>,
<A HREF="./page113.html">13</A>,
<A HREF="./page122.html">14</A>,
<A HREF="./page131.html">15</A>,
<A HREF="./page142.html">16</A>,
<A HREF="./page158.html">17</A>,
<A HREF="./page169.html">18</A>,
<A HREF="./page175.html">19</A>,
<A HREF="./page177.html">20</A>,
<A HREF="./page179.html">21</A>,
<A HREF="./page190.html">22</A>,
<A HREF="./page204.html">23</A>,
<A HREF="./page242.html">24</A>,
<A HREF="./page256.html">25</A>,
<A HREF="./page261.html">26</A>,
<A HREF="./page266.html">27</A>,
<A HREF="./page284.html">28</A>,
<A HREF="./page304.html">29</A>,
<A HREF="./page319.html">30</A><br>
<A HREF="./page336.html">A</A>,
<A HREF="./page343.html">B</A>,
<A HREF="./page348.html">C</A>,
<A HREF="./page354.html">D</A>,
<A HREF="./page357.html">E</A>
</b></td><td></td></tr>
</table>
