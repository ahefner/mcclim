<table width="100%"><tr>
<td align=left><A HREF="./page267.html">Page 267</A></td>
<td align=center width="30%"><A HREF="./cover.html">Table of Contents</A></td>
<td align=center width="30%"><A HREF="./index.html">Index</A></td>
<td align=right><A HREF="./page269.html">Page 269</A></td>
</tr>
<tr><td></td><td align=center colspan=2><b>Chapters</b></td><td></td></tr>
<tr><td></td><td align=center colspan=2><b>
<A HREF="./page2.html">1</A>,
<A HREF="./page5.html">2</A>,
<A HREF="./page13.html">3</A>,
<A HREF="./page30.html">4</A>,
<A HREF="./page35.html">5</A>,
<A HREF="./page44.html">6</A>,
<A HREF="./page47.html">7</A>,
<A HREF="./page54.html">8</A>,
<A HREF="./page69.html">9</A>,
<A HREF="./page77.html">10</A>,
<A HREF="./page87.html">11</A>,
<A HREF="./page93.html">12</A>,
<A HREF="./page113.html">13</A>,
<A HREF="./page122.html">14</A>,
<A HREF="./page131.html">15</A>,
<A HREF="./page142.html">16</A>,
<A HREF="./page158.html">17</A>,
<A HREF="./page169.html">18</A>,
<A HREF="./page175.html">19</A>,
<A HREF="./page177.html">20</A>,
<A HREF="./page179.html">21</A>,
<A HREF="./page190.html">22</A>,
<A HREF="./page204.html">23</A>,
<A HREF="./page242.html">24</A>,
<A HREF="./page256.html">25</A>,
<A HREF="./page261.html">26</A>,
<A HREF="./page266.html">27</A>,
<A HREF="./page284.html">28</A>,
<A HREF="./page304.html">29</A>,
<A HREF="./page319.html">30</A><br>
<A HREF="./page336.html">A</A>,
<A HREF="./page343.html">B</A>,
<A HREF="./page348.html">C</A>,
<A HREF="./page354.html">D</A>,
<A HREF="./page357.html">E</A>
</b></td><td></td></tr>
</table>
<hr>
<br>
<br>
 <b>CHAPTER 27. COMMAND PROCESSING </b><br>
<ul>
 <li><tt>:default </tt><i>value</i>, where <i>value </i>is the default that should be used for the argument, as for<br>
 <tt>accept</tt>.<br>
<br>
 <li><tt>:default-type </tt>is the same as for <tt>accept</tt>.<br>
<br>
 <li><tt>:display-default </tt>is the same as for <tt>accept</tt>.<br>
<br>
 <li><tt>:mentioned-default </tt><i>value</i>, where <i>value </i>is the default that should be used for the argument<br>
 when a keyword is explicitly supplied via the command-line processor, but no value is<br>
 supplied for it. <tt>:mentioned-default </tt>is only allowed on keyword arguments.<br>
<br>
 <li><tt>:prompt </tt><i>string</i>, where <i>string </i>is a prompt to print out during command-line parsing, as for<br>
 <tt>accept</tt>.<br>
<br>
 <li><tt>:documentation </tt><i>string</i>, where <i>string </i>is a documentation string that describes what the<br>
 argument is.<br>
<br>
 <li><tt>:when </tt><i>form</i>. <i>form </i>is evaluated in a scope where the parameter variables for the required<br>
 parameters are bound, and if the result is <tt>nil</tt>, the keyword argument is not available.<br>
 <tt>:when </tt>is only allowed on keyword arguments, and <i>form </i>cannot use the values of other<br>
 keyword arguments.<br>
<br>
 <li><tt>:gesture </tt><i>gesture</i>, where <i>gesture </i>is either a pointer gesture name or a list of a pointer<br>
 gesture name followed by keyword-value pairs. When a gesture is supplied, a presentation<br>
 translator will be defined that translates from this argument's presentation type to an<br>
 instance of this command with the selected object as the argument; the other arguments<br>
 will be filled in with their default values. The keyword-value pairs are used as options for<br>
 the translator. Valid keywords are <tt>:tester</tt>, <tt>:menu</tt>, <tt>:priority</tt>, <tt>:echo</tt>, <tt>:documentation</tt>,<br>
 and <tt>:pointer-documentation</tt>. The default for <i>gesture </i>is <tt>nil</tt>, meaning no translator will<br>
 be written. <tt>:gesture </tt>is only allowed when the <tt>:command-table </tt>option was supplied to<br>
 the command-defining form.</ul>
 <i>body </i>implements the body of the command. It has lexical access to all of the commands argu-<br>
 ments. If the body of the command needs access to the application frame itself, it should use<br>
 <tt>*application-frame*</tt>. The returned values of body are ignored. <i>body </i>may have zero or more<br>
 declarations as its first forms.<br>
<br>
 <tt>define-command </tt>must arrange for the function that implements the body of the command to<br>
 get the proper values for unsupplied keyword arguments.<br>
<br>
 <i>name-and-options </i>and <i>body </i>are not evaluated. In the argument descriptions, the parameter<br>
 variable name is not evaluated, and everything else is evaluated at run-time when argument<br>
 parsing reaches that argument, except that the value for <tt>:when </tt>is evaluated when parsing reaches<br>
 the keyword arguments, and <tt>:gesture </tt>isn't evaluated at all.<br>
 <br><b>27.2 Command Tables<br><br>
 </b>There are four main styles of interaction: keyboard interaction using a command- line processor,<br>
 keyboard interaction using keystroke accelerators, mouse interaction via command menus, and
<p><hr>
<table width="100%"><tr>
<td align=left><A HREF="./page267.html">Page 267</A></td>
<td align=center width="30%"><A HREF="./cover.html">Table of Contents</A></td>
<td align=center width="30%"><A HREF="./index.html">Index</A></td>
<td align=right><A HREF="./page269.html">Page 269</A></td>
</tr>
<tr><td></td><td align=center colspan=2><b>Chapters</b></td><td></td></tr>
<tr><td></td><td align=center colspan=2><b>
<A HREF="./page2.html">1</A>,
<A HREF="./page5.html">2</A>,
<A HREF="./page13.html">3</A>,
<A HREF="./page30.html">4</A>,
<A HREF="./page35.html">5</A>,
<A HREF="./page44.html">6</A>,
<A HREF="./page47.html">7</A>,
<A HREF="./page54.html">8</A>,
<A HREF="./page69.html">9</A>,
<A HREF="./page77.html">10</A>,
<A HREF="./page87.html">11</A>,
<A HREF="./page93.html">12</A>,
<A HREF="./page113.html">13</A>,
<A HREF="./page122.html">14</A>,
<A HREF="./page131.html">15</A>,
<A HREF="./page142.html">16</A>,
<A HREF="./page158.html">17</A>,
<A HREF="./page169.html">18</A>,
<A HREF="./page175.html">19</A>,
<A HREF="./page177.html">20</A>,
<A HREF="./page179.html">21</A>,
<A HREF="./page190.html">22</A>,
<A HREF="./page204.html">23</A>,
<A HREF="./page242.html">24</A>,
<A HREF="./page256.html">25</A>,
<A HREF="./page261.html">26</A>,
<A HREF="./page266.html">27</A>,
<A HREF="./page284.html">28</A>,
<A HREF="./page304.html">29</A>,
<A HREF="./page319.html">30</A><br>
<A HREF="./page336.html">A</A>,
<A HREF="./page343.html">B</A>,
<A HREF="./page348.html">C</A>,
<A HREF="./page354.html">D</A>,
<A HREF="./page357.html">E</A>
</b></td><td></td></tr>
</table>
